<!DOCTYPE html><html lang="pt-BR"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Master</title><style>:root{--p:#1E90FF;--s:#FFA500;--bg:#f4f4f9;--fg:#333}body{font-family:Arial;margin:0;background:var(--bg);color:var(--fg)}header{background:var(--p);color:#fff;padding:12px 20px;display:flex;align-items:center;justify-content:space-between}header img{height:44px}main{padding:20px}.card{background:#fff;border-radius:10px;padding:16px;box-shadow:0 6px 18px rgba(0,0,0,.06);margin-bottom:16px}button{cursor:pointer;border:0;border-radius:8px;padding:8px 12px;background:var(--p);color:#fff}.ghost{background:#eee;color:#222}.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}.hidden{display:none!important}</style></head><body><header><img src="logomarca.png" alt="Logo"><nav><a href="index.html" style="color:#fff;text-decoration:none;font-weight:700;margin-right:14px">Home</a><span class="ghost">Master</span></nav></header><main><div class="card"><h1>Master Control</h1><div class="row"><button id="btnAddQ">âž• Nova questÃ£o</button><button id="btnAddBlock">âž• Adicionar bloco</button><button id="btnManageUsers">ðŸ‘¥ Gerenciar usuÃ¡rios</button><button id="btnManageQs">ðŸ“ Gerenciar questÃµes</button></div></div><div id="manageUsers" class="card hidden"><h3>Gerenciar Usuários</h3><ul id="userList"></ul><div class="row" style="margin-top:8px"><input id="manualUserId" placeholder="ID"><input id="manualUserNote" placeholder="Nota"><button id="addManualUserBtn">Adicionar</button></div></div><div id="manageQuestions" class="card hidden"><h3>Gerenciar Questões</h3><div id="questionsList"></div><button onclick="document.getElementById('manageQuestions').classList.add('hidden')" class="ghost">Fechar</button></div></main><script>async function sha256(t){const e=new TextEncoder;const r=await crypto.subtle.digest("SHA-256",e.encode(t));return Array.from(new Uint8Array(r)).map(t=>t.toString(16).padStart(2,"0")).join("")}const MASTER_PASS="LOCDr3csh08GCliJ";let allowedUsers=JSON.parse(localStorage.getItem("allowedUsers")||"[]"),questions=JSON.parse(localStorage.getItem("questions")||"{}");document.addEventListener("DOMContentLoaded",async()=>{const s=prompt("Digite a senha Master:");if(!s)return alert("Senha vazia!");const h=await sha256(s);const correctHash=await sha256(MASTER_PASS);if(h!==correctHash)return alert("Senha incorreta!");alert("Acesso Master liberado!");const addManual=document.getElementById("addManualUserBtn");const userList=document.getElementById("userList");const qList=document.getElementById("questionsList");function renderUsers(){userList.innerHTML="";if(allowedUsers.length===0){userList.innerHTML="<li>Nenhum usuário</li>";return;}allowedUsers.forEach((u,i)=>{const li=document.createElement("li");li.innerHTML=`<strong>${u.id}</strong> — ${u.note||""}`;const btn=document.createElement("button");btn.className="ghost";btn.textContent="Revogar";btn.onclick=()=>{allowedUsers.splice(i,1);localStorage.setItem("allowedUsers",JSON.stringify(allowedUsers));renderUsers()};li.appendChild(btn);userList.appendChild(li)})}function renderQs(){qList.innerHTML="";Object.keys(questions).forEach(t=>{const div=document.createElement("div");div.innerHTML=`<strong>${t}</strong>`;questions[t].forEach((q,i)=>{const r=document.createElement("div");r.innerHTML=`<div>${q.q}</div><div class="ghost">${q.c}</div>`;const btnDel=document.createElement("button");btnDel.className="ghost";btnDel.textContent="Excluir";btnDel.onclick=()=>{questions[t].splice(i,1);localStorage.setItem("questions",JSON.stringify(questions));renderQs()};r.appendChild(btnDel);div.appendChild(r)});qList.appendChild(div)})}addManual.addEventListener("click",()=>{const id=document.getElementById("manualUserId").value.trim(),note=document.getElementById("manualUserNote").value.trim();if(id&&!allowedUsers.some(u=>u.id===id)){allowedUsers.push({id,note});localStorage.setItem("allowedUsers",JSON.stringify(allowedUsers));renderUsers();document.getElementById("manualUserId").value="";document.getElementById("manualUserNote").value=""}});document.getElementById("btnManageUsers").addEventListener("click",()=>document.getElementById("manageUsers").classList.toggle("hidden"));document.getElementById("btnManageQs").addEventListener("click",()=>{document.getElementById("manageQuestions").classList.toggle("hidden");renderQs()});document.getElementById("btnAddQ").addEventListener("click",()=>{const t=prompt("Tópico:"),q=prompt("Pergunta:"),c=prompt("Comentário:"),a=confirm("Resposta certa? OK=Certo, Cancel=Errado");if(t&&q&&c){if(!questions[t])questions[t]=[];questions[t].push({q:a?true:q,a:a,c:c});localStorage.setItem("questions",JSON.stringify(questions));alert("Questão adicionada")}});document.getElementById("btnAddBlock").addEventListener("click",()=>{const t=prompt("Tópico do bloco:"),b=prompt("Cole perguntas em JSON (uma por linha):");if(t&&b){b.split("\n").forEach(l=>{try{const o=eval("("+l+")");if(!questions[t])questions[t]=[];questions[t].push(o)}catch(e){}});localStorage.setItem("questions",JSON.stringify(questions));alert("Bloco processado")}});renderUsers();renderQs();});</script></body></html>