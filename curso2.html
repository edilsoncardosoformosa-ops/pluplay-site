<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"><title>Curso 2 - Treinamento</title><meta name="viewport" content="width=device-width,initial-scale=1.0"><style>:root{--bg:#f7f7fb;--fg:#111;--muted:#555;--card:#fff;--accent:#2563eb;--ok:#16a34a;--err:#dc2626;--shadow:0 8px 24px rgba(0,0,0,.08);--radius:14px}html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}.wrap{max-width:980px;margin:24px auto;padding:0 16px}.card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}.row{display:flex;flex-wrap:wrap;gap:12px;align-items:center}.row>*{flex:0 0 auto}button{border:0;background:#eee;border-radius:12px;padding:10px 16px;cursor:pointer}button.primary{background:var(--accent);color:#fff}button.ghost{background:transparent;border:1px solid #ddd}button.danger{background:var(--err);color:#fff}button.ok{background:var(--ok);color:#fff}button:disabled{opacity:.5;cursor:not-allowed}input,select,textarea{border:1px solid #ddd;border-radius:10px;padding:10px 12px;font-size:14px;outline:0;background:#fff;width:100%}label{font-weight:600;font-size:13px;color:var(--muted)}.grid{display:grid;gap:12px}.two{grid-template-columns:repeat(2,minmax(0,1fr))}.three{grid-template-columns:repeat(3,minmax(0,1fr))}@media(max-width:720px){.two,.three{grid-template-columns:1fr}}.muted{color:var(--muted)}.pill{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;background:#eef2ff;color:#3b82f6;border:1px solid #dbeafe}.hidden{display:none!important}.section-title{margin:18px 0 8px;font-size:15px;font-weight:700}#comment{font-size:16px;margin-top:10px}#question{font-size:18px}.space{height:8px}</style></head><body><div class="wrap"><div class="card"><div class="row" style="justify-content:space-between"><div><h1 id="trainingTitle">Treinamento Professor Tempor√°rio SEDF ‚Äî P√≥s-Edital</h1><div class="muted">Quiz protegido com modos: Master, Aluno e Demo</div></div><div class="row"><button id="toggleVoice" class="ghost">üîä Ativar Ler</button><button id="btnManage" class="ghost hidden">üõ†Ô∏è Gerenciar</button></div></div></div><div class="space"></div><div id="protectedContent" class="card hidden"><div id="userInfo" class="hidden"><div class="section-title">Acesso do Aluno / Demo</div><div class="grid two"><div><label>ID do seu dispositivo</label><div class="row"><input id="userIdBox" readonly/><button id="copyIdBtn">üìã Copiar</button></div></div><div><label>Contato do Master (WhatsApp)</label><div class="row"><a id="waLink" class="primary" target="_blank" style="text-decoration:none;display:inline-block;padding:10px 14px;border-radius:10px">Abrir WhatsApp do Master</a><span class="pill">+55 (61) 99925-1102</span></div><div class="muted" style="margin-top:6px">Envie seu ID ao Master para solicitar libera√ß√£o. Ao ser liberado via senha de aluno, esta se√ß√£o some automaticamente.</div></div></div></div><div id="menu" class="grid two" style="margin-top:16px"><div><div class="section-title">Escolha o T√≥pico</div><label for="numQuestions">Quantas quest√µes?</label><input type="number" id="numQuestions" min="1" max="50" value="10"/><div class="row" style="margin-top:10px;flex-wrap:wrap"><button onclick="startQuiz('Lport')" class="primary">L√≠ngua Portuguesa</button><button onclick="startQuiz('ride')" class="primary">RIDE</button><button onclick="startQuiz('Legisla')" class="primary">Legisla√ß√£o</button><button onclick="startQuiz('TemaEdu')" class="primary">Temas Educacionais</button><button onclick="startQuiz('Eduincl')" class="primary">Educa√ß√£o Inclusiva</button></div><div id="demoNote" class="muted hidden" style="margin-top:8px">üîí Modo demo ativo: at√© <b>5 quest√µes por t√≥pico</b>.</div></div><div id="adminButtons" class="hidden"><div class="section-title">A√ß√µes do Master</div><div class="grid"><button onclick="showAddQuestion()" class="ok">‚ûï Adicionar quest√£o</button><button onclick="showAddBlock()" class="ok">‚ûï Adicionar bloco</button></div></div></div><div id="quiz" class="hidden" style="margin-top:16px"><div class="row" style="justify-content:space-between"><div id="counter" class="pill"></div><button onclick="backToMenu()" class="ghost">‚Ü©Ô∏è Voltar ao menu</button></div><div style="margin-top:10px"><div id="question"></div><div class="row" style="margin-top:12px"><button id="btnTrue" onclick="answer(true)" class="ok">Certo</button><button id="btnFalse" onclick="answer(false)" class="danger">Errado</button></div><div id="comment" class="muted"></div><div class="row" style="margin-top:12px"><button onclick="nextQuestion()" class="primary">Pr√≥xima quest√£o</button></div></div></div><div id="result" class="hidden" style="margin-top:16px"><h3>Fim do Quiz!</h3><p id="score"></p><button onclick="restartQuiz()" class="primary">Reiniciar</button></div><script>
let userType=localStorage.getItem('userType')||'demo',
userId=localStorage.getItem('userId')||Date.now().toString();
localStorage.setItem('userId',userId);
let quizData={Lport:[],ride:[],Legisla:[],TemaEdu:[],Eduincl:[]},
quizCurrent=[],currentIndex=0,score=0,isDemo=userType==='demo',
maxDemo=5,voiceEnabled=false;

const $=id=>document.getElementById(id);
$('userIdBox').value=userId;
$('waLink').href='https://wa.me/5561999251102?text=Meu%20ID:%20'+userId;

if(userType!=='master'){
  $('protectedContent').classList.remove('hidden');
  $('userInfo').classList.remove('hidden');
  if(isDemo) $('demoNote').classList.remove('hidden');
}else{
  $('protectedContent').classList.remove('hidden');
  $('adminButtons').classList.remove('hidden');
  $('btnManage').classList.remove('hidden');
}

$('copyIdBtn').onclick=()=>{navigator.clipboard.writeText(userId).then(()=>alert('ID copiado!')).catch(()=>alert('Falha ao copiar'))};
$('toggleVoice').onclick=()=>{voiceEnabled=!voiceEnabled;$('toggleVoice').innerText=voiceEnabled?'üîà Desativar Ler':'üîä Ativar Ler'};

function shuffle(a){return a.sort(()=>Math.random()-.5)}

function startQuiz(topic){
  let n=parseInt($('numQuestions').value)||10;
  quizCurrent=[...quizData[topic]];
  if(isDemo) quizCurrent=quizCurrent.slice(0,maxDemo);
  quizCurrent=shuffle(quizCurrent).slice(0,n);
  currentIndex=0;score=0;showQuestion();
}

function showQuestion(){
  if(currentIndex>=quizCurrent.length){endQuiz();return}
  let q=quizCurrent[currentIndex];
  $('quiz').classList.remove('hidden');$('result').classList.add('hidden');
  $('question').innerText=q.q;
  $('comment').innerText='';
  $('counter').innerText=`Quest√£o ${currentIndex+1} de ${quizCurrent.length}`;
  if(voiceEnabled){
    let u=new SpeechSynthesisUtterance(q.q);u.lang='pt-BR';u.rate=1.5;
    window.speechSynthesis.cancel();window.speechSynthesis.speak(u);
  }
}

function answer(v){
  let q=quizCurrent[currentIndex];
  $('comment').innerText=q.c;
  if(q.a===v) score++;
  if(voiceEnabled){
    let txt=q.a===v?'‚úî Correto! ':'‚úñ Errado! ';
    let u=new SpeechSynthesisUtterance(txt+q.c);u.lang='pt-BR';u.rate=1.1;
    window.speechSynthesis.speak(u);
  }
}

function nextQuestion(){currentIndex++;showQuestion()}

function backToMenu(){
  $('quiz').classList.add('hidden');
  $('result').classList.add('hidden');
}

function endQuiz(){
  $('quiz').classList.add('hidden');$('result').classList.remove('hidden');
  $('score').innerText=`Voc√™ acertou ${score} de ${quizCurrent.length} quest√µes.`;
}

function restartQuiz(){currentIndex=0;score=0;$('result').classList.add('hidden')}

function addQuestion(){
  let t=$('newTopic').value,q=$('newQuestionText').value.trim(),c=$('newQuestionComment').value.trim(),a=$('newQuestionAnswer').value==='true';
  if(q){quizData[t].push({q,a,c});hideAddQuestion();alert('Quest√£o adicionada!')}
}

function hideAddQuestion(){$('addQuestionForm').classList.add('hidden')}
function showAddQuestion(){$('addQuestionForm').classList.remove('hidden')}

function addQuestionBlock(){
  let t=$('newBlockTopic').value;
  try{
    $('newBlockQuestions').value.split('\n').filter(l=>l.trim()).forEach(l=>quizData[t].push(eval('('+l+')')));
    hideAddBlock();alert('Bloco adicionado!')
  }catch(e){alert('Erro ao adicionar bloco')}
}
function hideAddBlock(){$('addQuestionBlockForm').classList.add('hidden')}
function showAddBlock(){$('addQuestionBlockForm').classList.remove('hidden')}
</script>
</body></html>