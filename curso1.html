<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"><title>Curso 1 - Treinamento</title><meta name="viewport" content="width=device-width,initial-scale=1.0"><style>body{margin:0;font-family:Arial,sans-serif;text-align:center;background:#f4f4f9;color:#333}header{background:#1E90FF;color:#fff;padding:12px 20px}button{margin:5px;padding:8px 12px;border:none;border-radius:8px;cursor:pointer;background:#1E90FF;color:#fff}input{padding:6px;border:1px solid #ddd;border-radius:6px;width:100px;text-align:center}#quiz,#result{display:none}.muted{color:#666}.pill{display:inline-block;padding:4px 8px;background:#eef2ff;border-radius:999px;color:#2563eb;text-decoration:none}</style></head><body><header><h1>Treinamento Professor Tempor√°rio SEDF - Curso 1</h1></header>
<div id="protectedContent">
<button id="toggleVoice">üîä Ativar Ler</button>
<div id="menu">
<label>Quantas Quest√µes?</label><br>
<input type="number" id="numQuestions" min="1" max="50" value="10"><br><br>
<button onclick="startQuiz('Lport')">L√≠ngua Portuguesa</button>
<button onclick="startQuiz('ride')">RIDE</button>
<button onclick="startQuiz('Legisla')">Legisla√ß√£o</button>
<button onclick="startQuiz('TemaEdu')">Temas Educacionais</button>
<button onclick="startQuiz('Eduincl')">Educa√ß√£o Inclusiva</button>
<div class="muted" style="margin-top:10px">Demo: at√© 5 quest√µes por t√≥pico se n√£o liberado.</div>
</div>
</div>
<div id="userInfo" style="margin-top:12px">
<p>ID do seu dispositivo: <span id="userId"></span></p>
<button id="copyIdBtn">üìã Copiar ID</button>
<p>Para liberar acesso completo, envie este ID via WhatsApp:</p>
<a id="waLink" href="#" target="_blank" class="pill">Contato Master +55(61)99925-1102</a>
</div>
<div id="quiz" style="margin-top:12px">
  <div>
    <div id="counter" class="pill"></div>
    <button onclick="backToMenu()">‚Üê Voltar</button>
  </div>
  <div style="margin-top:10px">
    <div id="question" style="font-weight:600"></div>
    <button onclick="answer(true)">Certo</button>
    <button onclick="answer(false)" style="background:#dc2626">Errado</button>
    <div id="comment" class="muted" style="margin-top:10px"></div>
    <button onclick="nextQuestion()">Pr√≥xima quest√£o</button>
  </div>
</div>

<div id="result" style="margin-top:12px">
  <h3>Fim do Quiz</h3>
  <p id="score"></p>
  <button onclick="restartQuiz()">Reiniciar</button>
</div>

<script>
// Gerar ID longo e garantir compatibilidade online/offline
let userId = localStorage.getItem('userId');
if (!userId) {
  try {
    userId = crypto.randomUUID(); // ID longo se suportado
  } catch(e) {
    userId = Date.now().toString(36) + Math.random().toString(36).slice(2); // fallback
  }
  localStorage.setItem('userId', userId);
}

// Vari√°veis do quiz
let voiceEnabled = false, currentQuestions = [], currentIndex = 0, score = 0;

// Inicializa√ß√£o DOM
document.addEventListener('DOMContentLoaded', () => {
  const uidSpan = document.getElementById('userId');
  const waLink = document.getElementById('waLink');
  const copyBtn = document.getElementById('copyIdBtn');
  const toggleVoice = document.getElementById('toggleVoice');

  uidSpan.textContent = userId;
  waLink.href = 'https://wa.me/5561999251102?text=Meu%20ID:%20' + encodeURIComponent(userId);

  copyBtn.addEventListener('click', () => {
    navigator.clipboard.writeText(userId).then(() => alert('ID copiado!')).catch(() => alert('N√£o foi poss√≠vel copiar.'));
  });

  toggleVoice.addEventListener('click', () => {
    voiceEnabled = !voiceEnabled;
    toggleVoice.textContent = voiceEnabled ? 'üîá Desativar Ler' : 'üîä Ativar Ler';
  });
});

// Fun√ß√µes do Quiz
function startQuiz(topic) {
  if (!window.questions || !window.questions[topic]) { alert('Sem quest√µes neste t√≥pico.'); return; }
  let all = window.questions[topic];
  const allowed = !!window.allowedUsers && window.allowedUsers.includes(userId);
  if (!allowed) all = all.slice(0,5); // Demo
  const num = parseInt(document.getElementById('numQuestions').value) || 10;
  currentQuestions = all.slice(0, num);
  currentIndex = 0; score = 0;
  document.getElementById('menu').style.display = 'none';
  document.getElementById('quiz').style.display = 'block';
  showQuestion();
}

function showQuestion() {
  if (currentIndex >= currentQuestions.length) { endQuiz(); return; }
  const q = currentQuestions[currentIndex];
  document.getElementById('question').textContent = q.q;
  document.getElementById('comment').textContent = '';
  document.getElementById('counter').textContent = `Quest√£o ${currentIndex+1} de ${currentQuestions.length}`;
  if (voiceEnabled) {
    let u = new SpeechSynthesisUtterance(q.q);
    u.lang = 'pt-BR'; u.rate = 1.5;
    window.speechSynthesis.cancel();
    window.speechSynthesis.speak(u);
  }
}

function answer(choice) {
  const q = currentQuestions[currentIndex];
  const txt = (choice === q.a ? '‚úî Correto! ' : '‚úñ Errado! ') + (q.c || '');
  document.getElementById('comment').textContent = txt;
  if (choice === q.a) score++;
  if (voiceEnabled) {
    let u = new SpeechSynthesisUtterance(txt); u.lang='pt-BR'; u.rate=1.1;
    window.speechSynthesis.speak(u);
  }
}

function nextQuestion() { currentIndex++; showQuestion(); }
function backToMenu() {
  document.getElementById('quiz').style.display='none';
  document.getElementById('result').style.display='none';
  document.getElementById('menu').style.display='block';
}

function endQuiz() {
  document.getElementById('quiz').style.display='none';
  document.getElementById('result').style.display='block';
  document.getElementById('score').textContent=`Voc√™ acertou ${score} de ${currentQuestions.length} quest√µes.`;
}

function restartQuiz() {
  currentIndex=0; score=0;
  document.getElementById('result').style.display='none';
  document.getElementById('menu').style.display='block';
}
</script>
</div><script>let questions={Lport:[{q:"Exemplo 1",a:true,c:"Coment√°rio 1"}],ride:[],Legisla:[],TemaEdu:[],Eduincl:[]},allowedUsers=[];function startQuiz(t){let n=parseInt(document.getElementById("numQuestions").value)||10;currentQuestions=[...questions[t]];if(!(allowedUsers.includes(userId)))currentQuestions=currentQuestions.slice(0,5);currentQuestions=currentQuestions.slice(0,n);currentIndex=0;score=0;document.getElementById("menu").style.display="none";document.getElementById("quiz").style.display="block";showQuestion()}function showQuestion(){if(currentIndex>=currentQuestions.length){endQuiz();return}let q=currentQuestions[currentIndex];document.getElementById("question").textContent=q.q;document.getElementById("comment").textContent="";document.getElementById("counter").textContent=`Quest√£o ${currentIndex+1} de ${currentQuestions.length}`;if(voiceEnabled){let u=new SpeechSynthesisUtterance(q.q);u.lang="pt-BR";u.rate=1.5;window.speechSynthesis.cancel();window.speechSynthesis.speak(u)}}function answer(c){let q=currentQuestions[currentIndex];document.getElementById("comment").textContent=(c===q.a?"‚úî Correto! ":"‚úñ Errado! ")+(q.c||"");if(c===q.a)score++;if(voiceEnabled){let u=new SpeechSynthesisUtterance(document.getElementById("comment").textContent);u.lang="pt-BR";u.rate=1.1;window.speechSynthesis.speak(u)}}function nextQuestion(){currentIndex++;showQuestion()}function backToMenu(){document.getElementById("quiz").style.display="none";document.getElementById("result").style.display="none";document.getElementById("menu").style.display="block"}function endQuiz(){document.getElementById("quiz").style.display="none";document.getElementById("result").style.display="block";document.getElementById("score").textContent=`Voc√™ acertou ${score} de ${currentQuestions.length} quest√µes.`}function restartQuiz(){currentIndex=0;score=0;document.getElementById("result").style.display="none";document.getElementById("menu").style.display="block"}</script></body></html>