<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"><title>Curso 1</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>body{font-family:Arial,sans-serif;margin:20px}button{margin:5px;padding:10px 20px;border-radius:10px;cursor:pointer}#quiz,#result,#addQuestionForm,#addQuestionBlockForm,#manageUsers{display:none}</style></head><body><div id="protectedContent"><h1>Treinamento Professor Temporário SEDF - Pós Edital</h1><button id="toggleVoice">🔊 Ativar Ler</button><div id="menu"><h2>Escolha o Tópico</h2><label for="numQuestions">Quantas Questões?</label><br><input type="number" id="numQuestions" min="1" max="50" value="10"><br><br><button onclick="startQuiz('Lport')">Língua Portuguesa</button><button onclick="startQuiz('ride')">RIDE</button><button onclick="startQuiz('Legisla')">Legislação</button><button onclick="startQuiz('TemaEdu')">Temas Educacionais</button><button onclick="startQuiz('Eduincl')">Educação Inclusiva</button><br><br><div id="adminButtons"><button onclick="showAddQuestion()">➕ Adicionar Questão</button><button onclick="showAddBlock()">➕ Adicionar Bloco</button><button onclick="showManageUsers()">👤 Gerenciar Usuários</button></div><div id="userInfo"><p>ID do seu dispositivo: <span id="userId"></span></p><button id="copyIdBtn">📋 Copiar ID</button><p>Para liberar acesso completo, envie este ID via WhatsApp:</p><a href="https://wa.me/5561999251102" target="_blank">Contato Master +55(61)99925-1102</a></div></div><div id="quiz"><p id="counter"></p><p id="question"></p><button onclick="answer(true)">Certo</button><button onclick="answer(false)">Errado</button><div id="comment"></div><button onclick="nextQuestion()">Próxima questão</button><button onclick="backToMenu()">Voltar ao Menu</button></div><div id="result"><h2>Fim do Quiz!</h2><p id="score"></p><button onclick="restartQuiz()">Reiniciar</button></div></div><script>window.addEventListener("DOMContentLoaded",function(){const MASTER_SENHA="LOCDr3csh08GCliJ";let senha=prompt("Digite a senha para acessar o quiz:");const isMaster=senha===MASTER_SENHA;document.getElementById("protectedContent").style.display="block";let userId=localStorage.getItem("userId");if(!userId){userId=crypto.randomUUID();localStorage.setItem("userId",userId);}let allowedUsers=JSON.parse(localStorage.getItem("allowedUsers")||"[]");if(!isMaster){document.getElementById("adminButtons").style.display="none";document.getElementById("userInfo").style.display="block";document.getElementById("userId").textContent=userId;document.getElementById("copyIdBtn").addEventListener("click",()=>{navigator.clipboard.writeText(userId).then(()=>alert("ID copiado!"));});if(allowedUsers.includes(userId)){document.getElementById("userInfo").innerHTML=`Acesso liberado! <br>Contato Master: <a href="https://wa.me/5561999251102" target="_blank">+55(61)99925-1102</a>`;}}function saveAllowed(){localStorage.setItem("allowedUsers",JSON.stringify(allowedUsers));}window.questions=JSON.parse(localStorage.getItem("questions")||"{}");if(Object.keys(questions).length===0){questions={Lport:[{q:"Na correção de redações, compreender o sentido literal das palavras é o primeiro passo.",a:true,c:"Correto."}],ride:[{q:"O Distrito Federal está na região Centro-Oeste.",a:true,c:"Correto."}],Legisla:[{q:"A educação é direito de todos e dever do Estado e da família.",a:true,c:"Correto, art.205 CF/88."}],TemaEdu:[{q:"O planejamento educacional é processo contínuo e sistemático.",a:true,c:"Correto."}],Eduincl:[{q:"Todos os alunos têm direito à educação inclusiva.",a:true,c:"Correto."}]};}let currentQuestions=[],currentIndex=0,score=0,voiceEnabled=false;function saveQ(){localStorage.setItem("questions",JSON.stringify(questions));}function shuffleArray(a){let b=a.slice();for(let i=b.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[b[i],b[j]]=[b[j],b[i]]}return b}window.startQuiz=function(topic){let allQ=questions[topic];if(!isMaster&&!allowedUsers.includes(userId)){allQ=allQ.slice(0,5);}currentQuestions=shuffleArray(allQ);currentIndex=0;score=0;document.getElementById('menu').style.display='none';document.getElementById('quiz').style.display='block';showQuestion();};function showQuestion(){if(currentIndex<currentQuestions.length){const q=currentQuestions[currentIndex];document.getElementById('question').textContent=q.q;document.getElementById('comment').textContent="";document.getElementById('counter').textContent="Questão "+(currentIndex+1)+" de "+currentQuestions.length;if(voiceEnabled)speak(q.q);}else endQuiz();}window.answer=function(choice){const q=currentQuestions[currentIndex];const commentText=(choice===q.a?"✅ Correto! ":"❌ Errado! ")+q.c;document.getElementById('comment').textContent=commentText;if(choice===q.a)score++;if(voiceEnabled)speak(commentText);};window.nextQuestion=function(){currentIndex++;showQuestion();};window.backToMenu=function(){document.getElementById('quiz').style.display='none';document.getElementById('result').style.display='none';document.getElementById('menu').style.display='block';currentQuestions=[];currentIndex=0;score=0;};window.endQuiz=function(){document.getElementById('quiz').style.display='none';document.getElementById('result').style.display='block';document.getElementById('score').textContent="Você acertou "+score+" de "+currentQuestions.length+" questões.";};window.restartQuiz=function(){document.getElementById('result').style.display='none';document.getElementById('menu').style.display='block';};document.getElementById("toggleVoice").addEventListener("click",()=>{voiceEnabled=!voiceEnabled;document.getElementById("toggleVoice").textContent=voiceEnabled?"🔇 Desativar Ler":"🔊 Ativar Ler";});function speak(text){if(voiceEnabled){window.speechSynthesis.cancel();let u=new SpeechSynthesisUtterance(text);u.lang="pt-BR";u.rate=1.5;window.speechSynthesis.speak(u);}}window.showAddQuestion=function(){document.getElementById("addQuestionForm").style.display="block";};window.hideAddQuestion=function(){document.getElementById("addQuestionForm").style.display="none";};window.addQuestion=function(){const t=document.getElementById("newTopic").value;const qText=document.getElementById("newQuestionText").value.trim();const aVal=document.getElementById("newQuestionAnswer").value==="true";const cText=document.getElementById("newQuestionComment").value.trim();if(!qText||!cText){alert("Preencha pergunta e comentário!");return;}questions[t].push({q:qText,a:aVal,c:cText});saveQ();alert("Questão adicionada em "+t+"!");hideAddQuestion();};window.showAddBlock=function(){document.getElementById("addQuestionBlockForm").style.display="block";};window.hideAddBlock=function(){document.getElementById("addQuestionBlockForm").style.display="none";};window.addQuestionBlock=function(){const t=document.getElementById("newBlockTopic").value;const raw=document.getElementById("newBlockQuestions").value.trim();if(!raw){alert("Digite ao menos uma questão!");return;}const lines=raw.split('\n').map(l=>l.trim()).filter(Boolean);let added=0,failed=0;lines.forEach(line=>{try{if(line.endsWith(','))line=line.slice(0,-1);const obj=Function('"use strict"; return ('+line+')')();if(!obj.q||typeof obj.a!=='boolean'||!obj.c)throw"Formato inválido";questions[t].push(obj);added++;}catch(e){failed++;}});saveQ();alert(`Bloco adicionado em ${t}!\nAdicionadas: ${added}\nFalharam: ${failed}`);hideAddBlock();};window.showManageUsers=function(){document.getElementById("manageUsers").style.display="block";const ul=document.getElementById("userList");ul.innerHTML="";allowedUsers.forEach(id=>{const li=document.createElement("li");li.textContent=id+" ";const btn=document.createElement("button");btn.textContent="Revogar";btn.onclick=()=>{allowedUsers=allowedUsers.filter(u=>u!==id);saveAllowed();showManageUsers();};li.appendChild(btn);ul.appendChild(li);});};window.hideManageUsers=function(){document.getElementById("manageUsers").style.display="none";};window.addManualUser=function(){let newId=document.getElementById("manualUserId").value.trim();if(!newId)newId=crypto.randomUUID();if(!allowedUsers.includes(newId)){allowedUsers.push(newId);saveAllowed();alert("Usuário adicionado com sucesso!\nID: "+newId);showManageUsers();}});</script></body></html>
