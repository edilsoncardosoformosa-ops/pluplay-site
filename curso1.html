<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"><title>Curso 1 - Treinamento Protegido</title><meta name="viewport" content="width=device-width,initial-scale=1.0"><style>body{font-family:Arial,sans-serif;margin:20px;text-align:center;background:#f4f4f9}button{margin:5px;padding:10px 20px;font-size:1em;border-radius:10px;cursor:pointer}input,select,textarea{width:90%;padding:8px;margin:5px 0;border-radius:5px;border:1px solid #ccc}#quiz,#result,#addQuestionForm,#addQuestionBlockForm,#protectedContent,#userInfo,#manageUsers{display:none}#comment{font-size:1.2em;color:#333;margin-top:20px}</style></head><body><div id="protectedContent"><h1>Treinamento Professor Tempor√°rio SEDF - P√≥s Edital</h1><button id="toggleVoice">üîä Ativar Ler</button><div id="menu"><h2>Escolha o T√≥pico</h2><label for="numQuestions">Quantas Quest√µes?</label><br><input type="number" id="numQuestions" min="1" max="50" value="10"><br><br><button onclick="startQuiz('Lport')">L√≠ngua Portuguesa</button><button onclick="startQuiz('ride')">RIDE</button><button onclick="startQuiz('Legisla')">Legisla√ß√£o</button><button onclick="startQuiz('TemaEdu')">Temas Educacionais</button><button onclick="startQuiz('Eduincl')">Educa√ß√£o Inclusiva</button><br><br><div id="adminButtons" style="margin-top:10px"><button onclick="showAddQuestion()">‚ûï Adicionar Quest√£o</button><button onclick="showAddBlock()">‚ûï Adicionar Bloco</button><button onclick="showManageUsers()">üë§ Gerenciar Usu√°rios</button></div><div id="userInfo" style="margin-top:15px"><p>ID do seu dispositivo: <span id="userId"></span></p><button id="copyIdBtn">üìã Copiar ID</button><p>Para liberar acesso completo, envie este ID via WhatsApp:</p><a href="https://wa.me/5561999251102" target="_blank">Contato Master +55(61)99925-1102</a></div></div><div id="quiz"><p id="counter"></p><p id="question"></p><button onclick="answer(true)">Certo</button><button onclick="answer(false)">Errado</button><div id="comment"></div><button onclick="nextQuestion()">Pr√≥xima quest√£o</button><button onclick="backToMenu()">Voltar ao Menu</button></div><div id="result"><h2>Fim do Quiz!</h2><p id="score"></p><button onclick="restartQuiz()">Reiniciar</button></div><div id="addQuestionForm"><h3>Adicionar Nova Quest√£o</h3><label>T√≥pico:</label><select id="newTopic"><option value="Lport">L√≠ngua Portuguesa</option><option value="ride">RIDE</option><option value="Legisla">Legisla√ß√£o</option><option value="TemaEdu">Temas Educacionais</option><option value="Eduincl">Educa√ß√£o Inclusiva</option></select><br><label>Pergunta:</label><br><textarea id="newQuestionText"></textarea><br><label>Correta?</label><select id="newQuestionAnswer"><option value="true">Certo</option><option value="false">Errado</option></select><br><label>Coment√°rio:</label><br><textarea id="newQuestionComment"></textarea><br><button onclick="addQuestion()">Adicionar</button><button onclick="hideAddQuestion()">Cancelar</button></div><div id="addQuestionBlockForm"><h3>Adicionar Bloco de Quest√µes</h3><label>T√≥pico:</label><select id="newBlockTopic"><option value="Lport">L√≠ngua Portuguesa</option><option value="ride">RIDE</option><option value="Legisla">Legisla√ß√£o</option><option value="TemaEdu">Temas Educacionais</option><option value="Eduincl">Educa√ß√£o Inclusiva</option></select><br><label>Quest√µes (uma por linha, formato JS, v√≠rgula opcional no final):</label><br><textarea id="newBlockQuestions" placeholder="{q:'Pergunta1',a:true,c:'Coment√°rio1'},"></textarea><br><button onclick="addQuestionBlock()">Adicionar Bloco</button><button onclick="hideAddBlock()">Cancelar</button></div><div id="manageUsers"><h3>Gerenciar Usu√°rios</h3><ul id="userList"></ul><h4>Adicionar Usu√°rio Manualmente</h4><input type="text" id="manualUserId" placeholder="Cole ou gere ID aqui"><button onclick="addManualUser()">Adicionar Usu√°rio</button><button onclick="hideManageUsers()">Fechar</button></div><script>window.addEventListener("DOMContentLoaded",async function(){const MASTER_HASH="50d14563b2f686e9f88f93f7ff37f1a048bb49e2746b1c90502f83510c7e1b6c";function sha256(str){const encoder=new TextEncoder();return crypto.subtle.digest("SHA-256",encoder.encode(str)).then(buf=>Array.from(new Uint8Array(buf)).map(x=>x.toString(16).padStart(2,'0')).join(''));}let senha=prompt("Digite a senha para acessar o quiz:"),isMaster=false;if(senha){const hash=await sha256(senha);isMaster=(hash===MASTER_HASH);}if(!senha){alert("Acesso limitado. Voc√™ poder√° responder apenas 5 quest√µes de cada t√≥pico.");}document.getElementById("protectedContent").style.display="block";let userId=localStorage.getItem("userId");if(!userId){userId=crypto.randomUUID();localStorage.setItem("userId",userId);}let allowedUsers=JSON.parse(localStorage.getItem("allowedUsers")||"[]");if(!isMaster){document.getElementById("adminButtons").style.display="none";document.getElementById("userInfo").style.display="block";document.getElementById("userId").textContent=userId;document.getElementById("copyIdBtn").addEventListener("click",()=>navigator.clipboard.writeText(userId).then(()=>alert("ID copiado!")));if(allowedUsers.includes(userId)){document.getElementById("userInfo").innerHTML=`Acesso liberado! <br>Contato Master: <a href="https://wa.me/5561999251102" target="_blank">+55(61)99925-1102</a>`;}}function saveAllowed(){localStorage.setItem("allowedUsers",JSON.stringify(allowedUsers));}window.questions=JSON.parse(localStorage.getItem("questions")||"{}");if(Object.keys(questions).length===0){questions={Lport:[{q:"Na corre√ß√£o de reda√ß√µes, compreender o sentido literal das palavras √© o primeiro passo.",a:true,c:"Correto."}],ride:[{q:"O Distrito Federal est√° na regi√£o Centro-Oeste.",a:true,c:"Correto."}],Legisla:[{q:"A educa√ß√£o √© direito de todos e dever do Estado e da fam√≠lia.",a:true,c:"Correto, art.205 CF/88."}],TemaEdu:[{q:"O planejamento educacional √© processo cont√≠nuo e sistem√°tico.",a:true,c:"Correto."}],Eduincl:[{q:"Todos os alunos t√™m direito √† educa√ß√£o inclusiva.",a:true,c:"Correto."}]};}let currentQuestions=[],currentIndex=0,score=0,voiceEnabled=false;function saveQ(){localStorage.setItem("questions",JSON.stringify(questions));}function shuffleArray(a){let b=a.slice();for(let i=b.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[b[i],b[j]]=[b[j],b[i]]}return b}window.startQuiz=function(topic){let allQ=questions[topic];if(!isMaster&&!allowedUsers.includes(userId)){allQ=allQ.slice(0,5);}currentQuestions=shuffleArray(allQ);currentIndex=0;score=0;document.getElementById('menu').style.display='none';document.getElementById('quiz').style.display='block';showQuestion();}function showQuestion(){if(currentIndex<currentQuestions.length){const q=currentQuestions[currentIndex];document.getElementById('question').textContent=q.q;document.getElementById('comment').textContent="";document.getElementById('counter').textContent="Quest√£o "+(currentIndex+1)+" de "+currentQuestions.length;if(voiceEnabled)speak(q.q);}else endQuiz();}window.answer=function(choice){const q=currentQuestions[currentIndex];const commentText=(choice===q.a?"‚úì Correto! ":"‚úó Errado! ")+q.c;document.getElementById('comment').textContent=commentText;if(choice===q.a)score++;if(voiceEnabled)speak(commentText);}window.nextQuestion=function(){currentIndex++;showQuestion();}window.backToMenu=function(){document.getElementById('quiz').style.display='none';document.getElementById('result').style.display='none';document.getElementById('menu').style.display='block';currentQuestions=[];currentIndex=0;score=0;}window.endQuiz=function(){document.getElementById('quiz').style.display='none';document.getElementById('result').style.display='block';document.getElementById('score').textContent="Voc√™ acertou "+score+" de "+currentQuestions.length+" quest√µes.";}window.restartQuiz=function(){document.getElementById('result').style.display='none';document.getElementById('menu').style.display='block';}document.getElementById("toggleVoice").addEventListener("click",()=>{voiceEnabled=!voiceEnabled;document.getElementById("toggleVoice").textContent=voiceEnabled?"üîà Desativar Ler":"üîä Ativar Ler";});function speak(text){if(voiceEnabled){window.speechSynthesis.cancel();let u=new SpeechSynthesisUtterance(text);u.lang="pt-BR";u.rate=1.5;window.speechSynthesis.speak(u)}}window.showAddQuestion=function(){document.getElementById("addQuestionForm").style.display="block";}window.hideAddQuestion=function(){document.getElementById("addQuestionForm").style.display="none";}window.addQuestion=function(){const t=document.getElementById("newTopic").value,qText=document.getElementById("newQuestionText").value.trim(),aVal=document.getElementById("newQuestionAnswer").value==="true",cText=document.getElementById("newQuestionComment").value.trim();if(!qText||!cText){alert("Preencha pergunta e coment√°rio!");return;}questions[t].push({q:qText,a:aVal,c:cText});saveQ();alert("Quest√£o adicionada em "+t+"!");hideAddQuestion();}window.showAddBlock=function(){document.getElementById("addQuestionBlockForm").style.display="block";}window.hideAddBlock=function(){document.getElementById("addQuestionBlockForm").style.display="none";}window.addQuestionBlock=function(){const t=document.getElementById("newBlockTopic").value,raw=document.getElementById("newBlockQuestions").value.trim();if(!raw){alert("Digite ao menos uma quest√£o!");return;}const lines=raw.split('\n').map(l=>l.trim()).filter(Boolean);let added=0,failed=0;lines.forEach(line=>{try{if(line.endsWith(','))line=line.slice(0,-1);const obj=Function('"use strict"; return ('+line+')')();if(!obj.q||typeof obj.a!=='boolean'||!obj.c)throw"Formato inv√°lido";questions[t].push(obj);added++;}catch(e){failed++;}});saveQ();alert(`Bloco adicionado em ${t}!\nAdicionadas: ${added}\nFalharam: ${failed}`);hideAddBlock();}window.showManageUsers=function(){document.getElementById("manageUsers").style.display="block";const ul=document.getElementById("userList");ul.innerHTML="";allowedUsers.forEach(id=>{const li=document.createElement("li");li.textContent=id+" ";const btn=document.createElement("button");btn.textContent="Revogar";btn.onclick=()=>{allowedUsers=allowedUsers.filter(u=>u!==id);saveAllowed();showManageUsers();};li.appendChild(btn);ul.appendChild(li);});}window.hideManageUsers=function(){document.getElementById("manageUsers").style.display="none";}window.addManualUser=function(){let newId=document.getElementById("manualUserId").value.trim();if(!newId)newId=crypto.randomUUID();if(!allowedUsers.includes(newId)){allowedUsers.push(newId);saveAllowed();alert("Usu√°rio adicionado com sucesso!\nID: "+newId);document.getElementById("manualUserId").value="";showManageUsers();}else alert("Usu√°rio j√° liberado.");}});</script></body></html>
